{
  "code": 0,
  "message": "success",
  "data": {
    "traceId": "YFTak0zj-187-e7017f520-1192c6",
    "transactionName": "proto.msg.SaasOrderService/couponSubmitOrder",
    "startTime": 1552986160416,
    "elapsedTime": 8218,
    "spanCount": 88,
    "httpMethod": "",
    "spans": {
      "tierName": "mendian_gateway",
      "nodeName": "inf-k8s-slave19.sj02-7",
      "health": "NORMAL",
      "elapsedTime": 8218,
      "transactionTime": 2,
      "startTime": 1552986160416,
      "source": null,
      "extra": {
        "dataBase": null,
        "remote": null
      },
      "children": [{
        "tierName": "mendian_gateway",
        "nodeName": "inf-k8s-slave19.sj02-7",
        "health": "NORMAL",
        "elapsedTime": 8217,
        "transactionTime": 0,
        "startTime": 1552986160417,
        "source": null,
        "extra": {
          "dataBase": null,
          "remote": "REMOTE"
        },
        "children": [],
        "transactionName": "proto.msg.SaasOrderService/couponSubmitOrder",
        "layer": "RPC",
        "type": "CLIENT",
        "spanId": "YFTak0zj-2f9-e7017f521-954e1",
        "appId": "834864414570016768",
        "tierId": "834868547268079616",
        "instanceId": "835088091386003456",
        "appName": "SaaS及云店服务",
        "error": false,
        "timeOffset": 1,
        "component": "grpcClient",
        "asyncCalled": true,
        "httpMethod": "",
        "combinedCount": 0
      }, {
        "tierName": "order_service_64",
        "nodeName": "order-service-64-545d46bf5b-pcp56-7",
        "health": "NORMAL",
        "elapsedTime": 8216,
        "transactionTime": 73,
        "startTime": 1552986160402,
        "source": "mendian_gateway",
        "extra": {
          "dataBase": null,
          "remote": null
        },
        "children": [{
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986160406,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select @@session.tx_read_only",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7017f516-8f93",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": -10,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 2,
          "transactionTime": 0,
          "startTime": 1552986160407,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "insert into db_order_new_048.tbl_order_master_048\n         ( orderKey,\n            \n            \n            \n                shopOrderKey,\n            \n            \n                channelKey,\n            \n            \n            \n                paymentCheckCode,\n            \n            \n            \n                orderType,\n            \n            \n                orderSubType,\n            \n            \n                orderStatus,\n            \n            \n            \n                orderRemark,\n            \n            \n                groupID,\n            \n            \n                groupName,\n            \n            \n            \n                shopID,\n            \n            \n                shopName,\n            \n            \n            \n            \n            \n                userSex,\n            \n            \n            \n                originTotalAmount,\n            \n            \n            \n            \n            \n            \n            \n                discountRange,\n            \n            \n            \n                dueTotalAmount,\n            \n            \n            \n            \n            \n            \n\n            \n            \n                orderTime,\n            \n            \n            \n            \n            \n            \n            \n            \n            \n            \n                clientType,\n            \n            \n                clientIP,\n            \n            \n                operator,\n            \n            \n            \n            \n            \n                foodAmount,\n            \n            \n            \n            \n            \n                offlinePaidAmount,\n            \n            \n            \n            \n            \n            \n            \n            \n\n            \n            \n            \n                shopOrderFlowNo  ,\n            \n            \n            \n            \n            \n            \n            \n            \n            \n                checkoutType ,\n            \n            \n                stdChannelKey ,\n            \n            \n            \n            \n                isShopDelivery ,\n            \n            \n                customerID,\n            \n            payBeginTime,\n            action,\n            createTime ) \n         values ( ?,\n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n\n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n            \n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n            \n            \n            \n            \n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n            \n            \n            \n            \n\n            \n            \n                ?,\n            \n            \n            \n            \n            \n            \n            \n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n            \n            \n                ?,\n            \n            \n            \n            \n            \n                ?,\n            \n            \n            \n            \n            \n            \n            \n            \n            \n            \n            \n              ? ,\n            \n            \n            \n            \n            \n            \n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            now(),\n            0,\n            now() )",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7017f517-8f94",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": -9,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986160410,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select @@session.tx_read_only",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7017f51a-8f95",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": -6,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986160411,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "insert into db_order_new_048.tbl_order_item_048\n         ( orderKey,\n            \n            \n                foodID,\n            \n            \n                foodCode,\n            \n            \n                foodName,\n            \n            \n            \n            \n            \n                remark,\n            \n            \n                foodUnit,\n            \n            \n            \n            \n                foodCategoryName,\n            \n            \n                foodCount,\n            \n            \n                isSetFood,\n            \n            \n                isDiscount,\n            \n            \n            \n                isSFDetail,\n            \n            \n                isBatching,\n            \n            \n                originPrice,\n            \n            \n                duePrice,\n            \n            \n            \n                vipPrice,\n            \n            \n                SFMUnitCode,\n            \n            \n            \n            \n            \n                sequenceID,\n            \n            \n            \n                shopID,\n            \n            \n                groupID,\n            \n            action,\n            createTime ) \n         values ( ?,\n            \n\n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n            \n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            0,\n            now() )",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7017f51b-8f96",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": -5,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 0,
          "transactionTime": 0,
          "startTime": 1552986160413,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select @@session.tx_read_only",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7017f51d-8f97",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": -3,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 2,
          "transactionTime": 0,
          "startTime": 1552986160413,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "insert into db_order_new_048.tbl_order_item_048\n         ( orderKey,\n            \n            \n                foodID,\n            \n            \n                foodCode,\n            \n            \n                foodName,\n            \n            \n            \n            \n            \n                remark,\n            \n            \n                foodUnit,\n            \n            \n            \n            \n                foodCategoryName,\n            \n            \n                foodCount,\n            \n            \n                isSetFood,\n            \n            \n                isDiscount,\n            \n            \n            \n                isSFDetail,\n            \n            \n                isBatching,\n            \n            \n                originPrice,\n            \n            \n                duePrice,\n            \n            \n            \n                vipPrice,\n            \n            \n                SFMUnitCode,\n            \n            \n            \n            \n            \n                sequenceID,\n            \n            \n            \n                shopID,\n            \n            \n                groupID,\n            \n            action,\n            createTime ) \n         values ( ?,\n            \n\n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n            \n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            0,\n            now() )",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7017f51d-8f98",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": -3,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986160415,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select @@session.tx_read_only",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7017f51f-8f99",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": -1,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986160416,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "insert into db_order_new_048.tbl_order_item_048\n         ( orderKey,\n            \n            \n                foodID,\n            \n            \n                foodCode,\n            \n            \n                foodName,\n            \n            \n            \n            \n            \n                remark,\n            \n            \n                foodUnit,\n            \n            \n            \n            \n                foodCategoryName,\n            \n            \n                foodCount,\n            \n            \n                isSetFood,\n            \n            \n                isDiscount,\n            \n            \n            \n                isSFDetail,\n            \n            \n                isBatching,\n            \n            \n                originPrice,\n            \n            \n                duePrice,\n            \n            \n            \n                vipPrice,\n            \n            \n                SFMUnitCode,\n            \n            \n            \n            \n            \n                sequenceID,\n            \n            \n            \n                shopID,\n            \n            \n                groupID,\n            \n            action,\n            createTime ) \n         values ( ?,\n            \n\n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n            \n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            0,\n            now() )",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7017f520-8f9a",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 0,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986160418,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select @@session.tx_read_only",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7017f522-8f9b",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 2,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986160419,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "insert into db_order_new_048.tbl_order_item_048\n         ( orderKey,\n            \n            \n                foodID,\n            \n            \n                foodCode,\n            \n            \n                foodName,\n            \n            \n            \n            \n            \n                remark,\n            \n            \n                foodUnit,\n            \n            \n            \n            \n                foodCategoryName,\n            \n            \n                foodCount,\n            \n            \n                isSetFood,\n            \n            \n                isDiscount,\n            \n            \n            \n                isSFDetail,\n            \n            \n                isBatching,\n            \n            \n                originPrice,\n            \n            \n                duePrice,\n            \n            \n            \n                vipPrice,\n            \n            \n                SFMUnitCode,\n            \n            \n            \n            \n            \n                sequenceID,\n            \n            \n            \n                shopID,\n            \n            \n                groupID,\n            \n            action,\n            createTime ) \n         values ( ?,\n            \n\n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n            \n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            0,\n            now() )",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7017f523-8f9c",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 3,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986160421,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select @@session.tx_read_only",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7017f525-8f9e",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 5,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 2,
          "transactionTime": 0,
          "startTime": 1552986160422,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select\n         \n    ID, orderKey, foodID, foodName, hllFoodName, hllUnit, foodCode, foodUnit, foodUnitID, foodCategoryID, foodCategoryName,\n    customFoodCategoryName, customFoodCategoryID, isSetFood, SFMUnitCode, isSFDetail,\n    foodSortIndex, isBatching, isGift, foodCount, remark, originPrice, originPoint, takeoutPackagingFee,\n    isDiscount, duePrice, duePoint, promoteTags, vipPrice, vipPoint, batchNo, isAutoAdd,\n    itemDetail, action, actionTime, createTime,taste,cookMethod,sequenceID,isNeedConfirmFoodNumber\n   \n        from db_order_new_048.tbl_order_item_048\n        where orderKey = ? and ACTION  !=2\n        order by ID",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7017f526-8f9f",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 6,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 6004,
          "transactionTime": 0,
          "startTime": 1552986160425,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": null,
            "remote": "REMOTE"
          },
          "children": [],
          "transactionName": "PayAndValidateCalculationService/calculate",
          "layer": "RPC",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7017f529-8fa1",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 9,
          "component": "grpcClient",
          "asyncCalled": true,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "shop-crm-document",
          "nodeName": "shop-crm-document-64c5fd574c-lzfdg-7",
          "health": "NORMAL",
          "elapsedTime": 6008,
          "transactionTime": 6,
          "startTime": 1552986160442,
          "source": "order_service_64",
          "extra": {
            "dataBase": null,
            "remote": null
          },
          "children": [{
            "tierName": "shop-crm-document",
            "nodeName": "shop-crm-document-64c5fd574c-lzfdg-7",
            "health": "NORMAL",
            "elapsedTime": 0,
            "transactionTime": 0,
            "startTime": 1552986160443,
            "source": "order_service_64",
            "extra": {
              "dataBase": "CACHE",
              "remote": null
            },
            "children": [],
            "transactionName": "GET",
            "layer": "CACHE",
            "type": "CLIENT",
            "spanId": "IoiSaydW-9ce3-e7017f53b-52d5",
            "appId": "850169014452584448",
            "tierId": "850170032468885504",
            "instanceId": "870826915496783872",
            "appName": "会员营销",
            "error": false,
            "timeOffset": 27,
            "component": "redis",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "shop-crm-document",
            "nodeName": "shop-crm-document-64c5fd574c-lzfdg-7",
            "health": "NORMAL",
            "elapsedTime": 6001,
            "transactionTime": 0,
            "startTime": 1552986160445,
            "source": "order_service_64",
            "extra": {
              "dataBase": null,
              "remote": "REMOTE"
            },
            "children": [],
            "transactionName": "PayService/openidQuery",
            "layer": "RPC",
            "type": "CLIENT",
            "spanId": "IoiSaydW-9ce3-e7017f53d-52d8",
            "appId": "850169014452584448",
            "tierId": "850170032468885504",
            "instanceId": "870826915496783872",
            "appName": "会员营销",
            "error": false,
            "timeOffset": 29,
            "component": "grpcClient",
            "asyncCalled": true,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 6002,
            "transactionTime": -8,
            "startTime": 1552986160431,
            "source": "shop-crm-document",
            "extra": {
              "dataBase": null,
              "remote": null
            },
            "children": [{
              "tierName": "pay_service_21",
              "nodeName": "pay-service-21-597586cb49-4fx2t-7",
              "health": "NORMAL",
              "elapsedTime": 6000,
              "transactionTime": 0,
              "startTime": 1552986160432,
              "source": "shop-crm-document",
              "extra": {
                "dataBase": null,
                "remote": "REMOTE"
              },
              "children": [],
              "transactionName": "com.hualala.app.channel.grpc.ChannelService/queryChannelInfoByOutUser",
              "layer": "RPC",
              "type": "CLIENT",
              "spanId": "vgw1Fd6R-1202-e7017f530-1176",
              "appId": "834864538905964544",
              "tierId": "834869023628259328",
              "instanceId": "873443901451960320",
              "appName": "支付",
              "error": false,
              "timeOffset": 16,
              "component": "grpcClient",
              "asyncCalled": true,
              "httpMethod": "",
              "combinedCount": 0
            }, {
              "tierName": "pay_channel_service",
              "nodeName": "pay-channel-service-d8ff4b55b-r6t22-7",
              "health": "VERY_SLOW",
              "elapsedTime": 6010,
              "transactionTime": 6010,
              "startTime": 1552986160452,
              "source": "pay_service_21",
              "extra": {
                "dataBase": null,
                "remote": null
              },
              "children": [{
                "tierName": "pay_channel_service",
                "nodeName": "pay-channel-service-d8ff4b55b-r6t22-7",
                "health": "NORMAL",
                "elapsedTime": 6003,
                "transactionTime": 0,
                "startTime": 1552986160453,
                "source": "pay_service_21",
                "extra": {
                  "dataBase": null,
                  "remote": "REMOTE"
                },
                "children": [],
                "transactionName": "FsmSettleUnitService/getPayMerchantNo",
                "layer": "RPC",
                "type": "CLIENT",
                "spanId": "g1iEibSQ-881-e7017f545-3fbb",
                "appId": "834864538905964544",
                "tierId": "834869115701620736",
                "instanceId": "873443146095214592",
                "appName": "支付",
                "error": false,
                "timeOffset": 37,
                "component": "grpcClient",
                "asyncCalled": true,
                "httpMethod": "",
                "combinedCount": 0
              }, {
                "tierName": "pay_channel_service",
                "nodeName": "pay-channel-service-d8ff4b55b-r6t22-7",
                "health": "NORMAL",
                "elapsedTime": 1,
                "transactionTime": 0,
                "startTime": 1552986166459,
                "source": "pay_service_21",
                "extra": {
                  "dataBase": "DATABASE",
                  "remote": null
                },
                "children": [],
                "transactionName": "select\n\t\t \n        itemID,        userType,        externalCode,        payMethod,        startDate,        endDate, channelAccount,companyID,activeStatus\n     \n\t\tfrom tbl_pay_channel_mapping\n\t\twhere\n\t\tcompanyID in ('57377','1') and userType in (30,31) and externalCode in ('76213296','','9000000000','57377')\n\t\tand ? between startDate and endDate\n\t\tand action in (0,1)  and  activeStatus=0\n\t\torder by companyID desc, userType asc, payMethod desc",
                "layer": "SQL",
                "type": "CLIENT",
                "spanId": "g1iEibSQ-881-e70180cbb-3fbc",
                "appId": "834864538905964544",
                "tierId": "834869115701620736",
                "instanceId": "873443146095214592",
                "appName": "支付",
                "error": false,
                "timeOffset": 6043,
                "component": "mysql",
                "asyncCalled": false,
                "httpMethod": "",
                "combinedCount": 0
              }, {
                "tierName": "pay_channel_service",
                "nodeName": "pay-channel-service-d8ff4b55b-r6t22-7",
                "health": "NORMAL",
                "elapsedTime": 0,
                "transactionTime": 0,
                "startTime": 1552986166461,
                "source": "pay_service_21",
                "extra": {
                  "dataBase": "DATABASE",
                  "remote": null
                },
                "children": [],
                "transactionName": "select\n     \n        id as itemID, companyID, userType,        outUserID,        channelAccount,       itemName, itemValue\n     \n    from tbl_pay_channel_mapping_item\n\t\twhere companyID = ? and userType = ? and outUserID = ? and channelAccount = ? and action in (0,1)",
                "layer": "SQL",
                "type": "CLIENT",
                "spanId": "g1iEibSQ-881-e70180cbd-3fbd",
                "appId": "834864538905964544",
                "tierId": "834869115701620736",
                "instanceId": "873443146095214592",
                "appName": "支付",
                "error": false,
                "timeOffset": 6045,
                "component": "mysql",
                "asyncCalled": false,
                "httpMethod": "",
                "combinedCount": 0
              }],
              "transactionName": "com.hualala.app.channel.grpc.ChannelService/queryChannelInfoByOutUser",
              "layer": "RPC",
              "type": "SERVER",
              "spanId": "g1iEibSQ-881-e7017f544-3fb7",
              "appId": "834864538905964544",
              "tierId": "834869115701620736",
              "instanceId": "873443146095214592",
              "appName": "支付",
              "error": false,
              "timeOffset": 36,
              "component": "grpcService",
              "asyncCalled": true,
              "httpMethod": "",
              "combinedCount": 0
            }],
            "transactionName": "PayService/openidQuery",
            "layer": "RPC",
            "type": "SERVER",
            "spanId": "vgw1Fd6R-1202-e7017f52f-1172",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 15,
            "component": "grpcService",
            "asyncCalled": true,
            "httpMethod": "",
            "combinedCount": 0
          }],
          "transactionName": "PayAndValidateCalculationService/calculate",
          "layer": "RPC",
          "type": "SERVER",
          "spanId": "IoiSaydW-9ce3-e7017f53a-52d3",
          "appId": "850169014452584448",
          "tierId": "850170032468885504",
          "instanceId": "870826915496783872",
          "appName": "会员营销",
          "error": false,
          "timeOffset": 26,
          "component": "grpcService",
          "asyncCalled": true,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986166430,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select @@session.tx_read_only",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70180c9e-8fa2",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 6014,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986166431,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "update db_order_new_048.tbl_payment_detail_048 set paymentVersion = now() where orderKey = ? and paymentSubjectCode = ? and balanceID = ?",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70180c9f-8fa3",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 6015,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 0,
          "transactionTime": 0,
          "startTime": 1552986166433,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select @@session.tx_read_only",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70180ca1-8fa4",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 6017,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986166433,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "insert into db_order_new_048.tbl_payment_detail_048\n         ( orderKey,\n            \n            \n            \n                balanceID,\n            \n            \n                paymentSubjectCode,\n            \n            \n                paymentSubjectName,\n            \n            \n            \n            \n            \n                dueAmount,\n            \n            \n            \n                paymentStatus,\n            \n            \n                transType,\n            \n            \n            createTime,\n            \n                scanType,\n            \n            \n            \n                thirdPartyCode,\n            \n            \n            \n            \n            paymentExtra,\n            \n                shopID,\n            \n            \n                groupID,\n            \n            payBeginTime ) \n         values ( ?,\n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            \n            \n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n                ?,\n            \n            \n            now(),\n            \n                ?,\n            \n            \n            \n                ?,\n            \n            \n            \n            \n            \n                    ?,\n                \n            \n                ?,\n            \n            \n                ?,\n            \n            now() )",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70180ca1-8fa5",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 6017,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 0,
          "transactionTime": 0,
          "startTime": 1552986166436,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select @@session.tx_read_only",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70180ca4-8fa7",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 6020,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 2
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 2136,
          "transactionTime": 0,
          "startTime": 1552986166437,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": null,
            "remote": "REMOTE"
          },
          "children": [],
          "transactionName": "PayService/orderPay",
          "layer": "RPC",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70180ca5-8fa9",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 6021,
          "component": "grpcClient",
          "asyncCalled": true,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "pay_service_21",
          "nodeName": "pay-service-21-597586cb49-4fx2t-7",
          "health": "NORMAL",
          "elapsedTime": 2135,
          "transactionTime": 40,
          "startTime": 1552986166437,
          "source": "order_service_64",
          "extra": {
            "dataBase": null,
            "remote": null
          },
          "children": [{
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 10,
            "transactionTime": 0,
            "startTime": 1552986166438,
            "source": "order_service_64",
            "extra": {
              "dataBase": null,
              "remote": "REMOTE"
            },
            "children": [],
            "transactionName": "FsmSettleUnitService/getPayMerchantNo",
            "layer": "RPC",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e70180ca6-117c",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 6022,
            "component": "grpcClient",
            "asyncCalled": true,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "settle_manager_service",
            "nodeName": "settle-manager-service-7b7c46c5d6-j7v89-7",
            "health": "NORMAL",
            "elapsedTime": 9,
            "transactionTime": 9,
            "startTime": 1552986166454,
            "source": "pay_service_21",
            "extra": {
              "dataBase": null,
              "remote": null
            },
            "children": [{
              "tierName": "settle_manager_service",
              "nodeName": "settle-manager-service-7b7c46c5d6-j7v89-7",
              "health": "NORMAL",
              "elapsedTime": 1,
              "transactionTime": 0,
              "startTime": 1552986166456,
              "source": "pay_service_21",
              "extra": {
                "dataBase": "DATABASE",
                "remote": null
              },
              "children": [],
              "transactionName": "select\n\t\t \n        itemID,        companyID,        userType,        outUserID,        outUserName,        orderType,        settleID,        startTime,\t\toperatorInfo,\t\tactionStamp,        createStamp\n     \n\t\tfrom tbl_fsm_settle_user_mapping\n\t\twhere companyID = ? and userType=? and  outUserID=? and orderType in(?,10)\n\t\tand startTime <= ? and action in (0,1) order by orderType desc,startTime desc limit 1;",
              "layer": "SQL",
              "type": "CLIENT",
              "spanId": "yKiRAqlX-13cb-e70180cb8-39ad",
              "appId": "834864538905964544",
              "tierId": "834869286439153664",
              "instanceId": "869852240230805504",
              "appName": "支付",
              "error": false,
              "timeOffset": 6040,
              "component": "mysql",
              "asyncCalled": false,
              "httpMethod": "",
              "combinedCount": 0
            }, {
              "tierName": "settle_manager_service",
              "nodeName": "settle-manager-service-7b7c46c5d6-j7v89-7",
              "health": "NORMAL",
              "elapsedTime": 1,
              "transactionTime": 0,
              "startTime": 1552986166457,
              "source": "pay_service_21",
              "extra": {
                "dataBase": "DATABASE",
                "remote": null
              },
              "children": [],
              "transactionName": "select\n         \n        settleUnitID,settleUnitName,groupID,shopCount,settleIncomTotal,settleBalance,settleSpendingTotal,feeRatio,isActiveAutoTransfer,autoTransferDays,timeAmountRship,autoTransferMinAmount,startDate,lastTransferTime,bankAccount,bankName,bankCode,receiverType,receiverName,receiverPhone,receiverMobile,receiverEmail,accountCheckStatus,remark,action,actionTime,createTime,poundageMinAmount,minTransferAmount,maxTransferDays,poundageAmount,receiverLinkman,isRemindAmount,remindAmount,defaultAccount,isOutcomeAcount,bankNO,operatorID,settleMode,packageRemainAmount,operatorID,operatorName,operatorMobile,sysSource,companyID,userType,outUserID,outUserName,\n        bankPersonType,processInstanceID,processStatus,processFailReason,auditLimitDate,auditRecentLimitDate,reportStatus,reportMsg,merchantNo,freezeBalance,transferMerchantNo,transferPrivateKey,signStatus,spMerchantNo\n     \n        from tbl_fsm_settle_unit\n        where settleUnitID = ?",
              "layer": "SQL",
              "type": "CLIENT",
              "spanId": "yKiRAqlX-13cb-e70180cb9-39ae",
              "appId": "834864538905964544",
              "tierId": "834869286439153664",
              "instanceId": "869852240230805504",
              "appName": "支付",
              "error": false,
              "timeOffset": 6041,
              "component": "mysql",
              "asyncCalled": false,
              "httpMethod": "",
              "combinedCount": 0
            }, {
              "tierName": "settle_manager_service",
              "nodeName": "settle-manager-service-7b7c46c5d6-j7v89-7",
              "health": "NORMAL",
              "elapsedTime": 0,
              "transactionTime": 0,
              "startTime": 1552986166459,
              "source": "pay_service_21",
              "extra": {
                "dataBase": "CACHE",
                "remote": null
              },
              "children": [],
              "transactionName": "HSET",
              "layer": "CACHE",
              "type": "CLIENT",
              "spanId": "yKiRAqlX-13cb-e70180cbb-39af",
              "appId": "834864538905964544",
              "tierId": "834869286439153664",
              "instanceId": "869852240230805504",
              "appName": "支付",
              "error": false,
              "timeOffset": 6043,
              "component": "redis",
              "asyncCalled": false,
              "httpMethod": "",
              "combinedCount": 0
            }, {
              "tierName": "settle_manager_service",
              "nodeName": "settle-manager-service-7b7c46c5d6-j7v89-7",
              "health": "NORMAL",
              "elapsedTime": 0,
              "transactionTime": 0,
              "startTime": 1552986166462,
              "source": "pay_service_21",
              "extra": {
                "dataBase": "CACHE",
                "remote": null
              },
              "children": [],
              "transactionName": "GET",
              "layer": "CACHE",
              "type": "CLIENT",
              "spanId": "yKiRAqlX-13cb-e70180cbe-39b0",
              "appId": "834864538905964544",
              "tierId": "834869286439153664",
              "instanceId": "869852240230805504",
              "appName": "支付",
              "error": false,
              "timeOffset": 6046,
              "component": "redis",
              "asyncCalled": false,
              "httpMethod": "",
              "combinedCount": 0
            }],
            "transactionName": "FsmSettleUnitService/getPayMerchantNo",
            "layer": "RPC",
            "type": "SERVER",
            "spanId": "yKiRAqlX-13cb-e70180cb6-39aa",
            "appId": "834864538905964544",
            "tierId": "834869286439153664",
            "instanceId": "869852240230805504",
            "appName": "支付",
            "error": false,
            "timeOffset": 6038,
            "component": "grpcService",
            "asyncCalled": true,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 1,
            "transactionTime": 0,
            "startTime": 1552986166450,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "select @@session.tx_read_only",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e70180cb2-117d",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 6034,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 1,
            "transactionTime": 0,
            "startTime": 1552986166451,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "insert into db_pay_0016.tbl_pay_order_payDetail_0001 (\n\t\t\t payOrderKey, \n\t\t\t outTradeType, \n\t\t\t orderKey, \n\t\t\t payWayType, \n\t\t\t payAmount, \n\t\t\t payCode, \n\t\t\t payExtra, \n\t\t\t transStatus, \n\t\t\t \n\t\t\t payTransKey, \n\t\t\t payMethodTransKey, \n\t\t\t \n\t\t\t \n        action, createStamp\n\t\t) values (\n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t \n\t\t\t \n        ?, ?\n\t\t)",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e70180cb3-117e",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 6035,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 0,
            "transactionTime": 0,
            "startTime": 1552986166453,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "select @@session.tx_read_only",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e70180cb5-117f",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 6037,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 2,
            "transactionTime": 0,
            "startTime": 1552986166453,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "insert into db_pay_0016.tbl_pay_order_payMaster_0001 (\n\t\t\t payOrderKey, \n\t\t\t orderKey, \n\t\t\t payTransKey, \n\t\t\t outTradeType, \n\t\t\t orderTime, \n\t\t\t finishTime, \n\t\t\t \n\t\t\t \n\t\t\t orderTotal, \n\t\t\t payStatus, \n\t\t\t \n\t\t\t \n\t\t\t settleTime, \n\t\t\t \n\t\t\t companyID, \n\t\t\t \n\t\t\t merchantStoreNo, \n\t\t\t merchantStoreName, \n\t\t\t settleUserID, \n\t\t\t\n\t\t\t payUserID, \n\t\t\t buyerUserType, \n\t\t\t buyerCode, \n\t\t\t buyerName, \n\t\t\t sellerUserType, \n\t\t\t sellerCode, \n\t\t\t sellerName, \n\t\t\t settleMerchantNo, \n\t\t\t matchSettleType, \n\t\t\t settleSpMerchantNo, \n\t\t\t \n\t\t\t \n\t\t\t storeMerchantNo, \n        action, createStamp\n\t\t) values (\n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t \n\t\t\t \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t \n\t\t\t \n\t\t\t ?, \n\t\t\t \n\t\t\t ?, \n\t\t\t \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t\n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t \n\t\t\t \n\t\t\t ?, \n        ?, ?\n\t\t)",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e70180cb5-1180",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 6037,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 1,
            "transactionTime": 0,
            "startTime": 1552986166456,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "select @@session.tx_read_only",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e70180cb8-1182",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 6040,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 2
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 5,
            "transactionTime": 0,
            "startTime": 1552986166457,
            "source": "order_service_64",
            "extra": {
              "dataBase": null,
              "remote": "REMOTE"
            },
            "children": [],
            "transactionName": "com.hualala.app.channel.grpc.ChannelService/queryChannelInfoByOutUser",
            "layer": "RPC",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e70180cb9-1184",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 6041,
            "component": "grpcClient",
            "asyncCalled": true,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_channel_service",
            "nodeName": "pay-channel-service-d8ff4b55b-r6t22-7",
            "health": "NORMAL",
            "elapsedTime": 4,
            "transactionTime": 4,
            "startTime": 1552986166477,
            "source": "pay_service_21",
            "extra": {
              "dataBase": null,
              "remote": null
            },
            "children": [{
              "tierName": "pay_channel_service",
              "nodeName": "pay-channel-service-d8ff4b55b-r6t22-7",
              "health": "NORMAL",
              "elapsedTime": 1,
              "transactionTime": 0,
              "startTime": 1552986166479,
              "source": "pay_service_21",
              "extra": {
                "dataBase": "DATABASE",
                "remote": null
              },
              "children": [],
              "transactionName": "select\n\t\t \n        itemID,        userType,        externalCode,        payMethod,        startDate,        endDate, channelAccount,companyID,activeStatus\n     \n\t\tfrom tbl_pay_channel_mapping\n\t\twhere\n\t\tcompanyID in ('57377','1') and userType in (30,31) and externalCode in ('76213296','','9000000000','57377')\n\t\tand ? between startDate and endDate\n\t\tand action in (0,1)  and  activeStatus=0\n\t\torder by companyID desc, userType asc, payMethod desc",
              "layer": "SQL",
              "type": "CLIENT",
              "spanId": "g1iEibSQ-881-e70180ccf-3fc2",
              "appId": "834864538905964544",
              "tierId": "834869115701620736",
              "instanceId": "873443146095214592",
              "appName": "支付",
              "error": false,
              "timeOffset": 6063,
              "component": "mysql",
              "asyncCalled": false,
              "httpMethod": "",
              "combinedCount": 0
            }, {
              "tierName": "pay_channel_service",
              "nodeName": "pay-channel-service-d8ff4b55b-r6t22-7",
              "health": "NORMAL",
              "elapsedTime": 1,
              "transactionTime": 0,
              "startTime": 1552986166480,
              "source": "pay_service_21",
              "extra": {
                "dataBase": "DATABASE",
                "remote": null
              },
              "children": [],
              "transactionName": "select\n     \n        id as itemID, companyID, userType,        outUserID,        channelAccount,       itemName, itemValue\n     \n    from tbl_pay_channel_mapping_item\n\t\twhere companyID = ? and userType = ? and outUserID = ? and channelAccount = ? and action in (0,1)",
              "layer": "SQL",
              "type": "CLIENT",
              "spanId": "g1iEibSQ-881-e70180cd0-3fc3",
              "appId": "834864538905964544",
              "tierId": "834869115701620736",
              "instanceId": "873443146095214592",
              "appName": "支付",
              "error": false,
              "timeOffset": 6064,
              "component": "mysql",
              "asyncCalled": false,
              "httpMethod": "",
              "combinedCount": 0
            }],
            "transactionName": "com.hualala.app.channel.grpc.ChannelService/queryChannelInfoByOutUser",
            "layer": "RPC",
            "type": "SERVER",
            "spanId": "g1iEibSQ-881-e70180ccd-3fbf",
            "appId": "834864538905964544",
            "tierId": "834869115701620736",
            "instanceId": "873443146095214592",
            "appName": "支付",
            "error": false,
            "timeOffset": 6061,
            "component": "grpcService",
            "asyncCalled": true,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 0,
            "transactionTime": 0,
            "startTime": 1552986166464,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "select @@session.tx_read_only",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e70180cc0-1185",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 6048,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 2,
            "transactionTime": 0,
            "startTime": 1552986166464,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "insert into db_pay_0016.tbl_pay_Interface_detail_0001 (\n\t\t\t payOrderKey, \n\t\t\t orderKey, \n\t\t\t myOrderNo, \n\t\t\t payWayType, \n\t\t\t payWayCode, \n\t\t\t channelType, \n\t\t\t channelAccount, \n\t\t\t transAmount, \n\t\t\t transSubjects, \n\t\t\t transExtra, \n\t\t\t transStatus, \n\t\t\t submitTime, \n\t\t\t \n\t\t\t \n\t\t\t \n\t\t\t \n\t\t\t \n\t\t\t channelMerchantNo, \n\t\t\t outTradeType, \n\t\t\t payUserID, \n\t\t\t companyID, \n\t\t\t merchantStoreNo, \n\t\t\t channelSpMerchantNo, \n\t\t\t payTransKey, \n\t\t\t payMethodTransKey, \n\t\t\t channelStoreMerchantNo, \n\t\t\t \n\t\t\t \n\t\t\t \n\t\t\t \n\t\t\t \n        action, createStamp\n\t\t) values (\n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t \n\t\t\t \n\t\t\t \n\t\t\t \n\t\t\t \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t ?, \n\t\t\t \n\t\t\t \n\t\t\t \n\t\t\t \n\t\t\t \n        ?, ?\n\t\t)",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e70180cc0-1186",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 6048,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 2084,
            "transactionTime": 0,
            "startTime": 1552986166466,
            "source": "order_service_64",
            "extra": {
              "dataBase": null,
              "remote": "REMOTE"
            },
            "children": [],
            "transactionName": "BankService/scanPay",
            "layer": "RPC",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e70180cc2-1188",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 6050,
            "component": "grpcClient",
            "asyncCalled": true,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_bank_service_21",
            "nodeName": "pay-bank-service-21-76695b877d-x255n-7",
            "health": "VERY_SLOW",
            "elapsedTime": 2082,
            "transactionTime": 2082,
            "startTime": 1552986166467,
            "source": "pay_service_21",
            "extra": {
              "dataBase": null,
              "remote": null
            },
            "children": [{
              "tierName": "pay_bank_service_21",
              "nodeName": "pay-bank-service-21-76695b877d-x255n-7",
              "health": "NORMAL",
              "elapsedTime": 2051,
              "transactionTime": 0,
              "startTime": 1552986166484,
              "source": "pay_service_21",
              "extra": {
                "dataBase": null,
                "remote": "REMOTE"
              },
              "children": [],
              "transactionName": "/zpay-gateway/mPay/scanCardPay",
              "layer": "HTTP",
              "type": "CLIENT",
              "spanId": "c3W3b7RL-e78c-e70180cd4-3ef",
              "appId": "834864538905964544",
              "tierId": "834869213420023808",
              "instanceId": "873445899097432064",
              "appName": "支付",
              "error": false,
              "timeOffset": 6068,
              "component": "apacheHttpClient",
              "asyncCalled": false,
              "httpMethod": "POST",
              "combinedCount": 0
            }],
            "transactionName": "BankService/scanPay",
            "layer": "RPC",
            "type": "SERVER",
            "spanId": "c3W3b7RL-e78c-e70180cc3-3ec",
            "appId": "834864538905964544",
            "tierId": "834869213420023808",
            "instanceId": "873445899097432064",
            "appName": "支付",
            "error": false,
            "timeOffset": 6051,
            "component": "grpcService",
            "asyncCalled": true,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 1,
            "transactionTime": 0,
            "startTime": 1552986168551,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "select @@session.tx_read_only",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e701814e7-1189",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 8135,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 1,
            "transactionTime": 0,
            "startTime": 1552986168552,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "update db_pay_0016.tbl_pay_Interface_detail_0001 set transStatus = ?, returnTime = ?,\n\t\t \n\t\t\tpayTransNo = ?,\n\t\t \n\t\t \n\t\t\tpayTransExtra = ?,\n\t\t \n\t\t \n\t\t\tpayTerminalNo = ?,\n\t\t \n\t\taction = ?\n\t\twhere payOrderKey = ? and transStatus != 'SUCCESS'",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e701814e8-118a",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 8136,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 1,
            "transactionTime": 0,
            "startTime": 1552986168554,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "select\n\t\t \n\tpayOrderKey, outTradeType, orderKey, payTransKey,  buyerUserType, buyerCode, buyerName,\n\t\tsellerCode, sellerName, sellerUserType, orderTime, finishTime, attach, extra,\n\t\torderTotal, payStatus, notifyStatus, remark, settleStatus, settleTime, orderSettlementTotal,\n\t\tcompanyID ,companyName, merchantStoreNo, merchantStoreName, settleUserID, settleMerchantNo,\n\t\tmatchSettleType,settleSpMerchantNo, bearerType, shopOrderKey, deductTotal,\n\t\tgoodTags, refundTotal,settleUserName,storeMerchantNo, action, actionStamp, createStamp\n\t \n\t\tfrom db_pay_0016.tbl_pay_order_payMaster_0001\n\t\twhere payTransKey = ?",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e701814ea-118b",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 8138,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 1,
            "transactionTime": 0,
            "startTime": 1552986168557,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "select @@session.tx_read_only",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e701814ed-118c",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 8141,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 1,
            "transactionTime": 0,
            "startTime": 1552986168558,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "update db_pay_0016.tbl_pay_order_payDetail_0001 set transStatus = ?,\n\t\tchannelAccount = ?, channelType=?,\n\t\t \n\t\t\tpayTransNo = ?,\n\t\t \n\t\t \n\t\t\tpayTransExtra = ?,\n\t\t \n\t\taction = 1\n\t\twhere payOrderKey = ? and payWayType = ?\n\t\tand transStatus != 'SUCCESS'",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e701814ee-118d",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 8142,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 1,
            "transactionTime": 0,
            "startTime": 1552986168559,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "select @@session.tx_read_only",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e701814ef-118e",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 8143,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 1,
            "transactionTime": 0,
            "startTime": 1552986168560,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "update db_pay_0016.tbl_pay_order_payMaster_0001 set payStatus = 'SUCCESS', finishTime = ?,\n\t\t \n\t\t\tdeductTotal = ?,\n\t\t \n\t\taction = 1\n\t\twhere payOrderKey = ? and payStatus != 'SUCCESS' and payStatus in ('ING','FAILURE')",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e701814f0-118f",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 8144,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 1,
            "transactionTime": 0,
            "startTime": 1552986168562,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "select @@session.tx_read_only",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e701814f2-1191",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 8146,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 1,
            "transactionTime": 0,
            "startTime": 1552986168564,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "select\n\t\t \n\tpayOrderKey, outTradeType, orderKey, payTransKey,  buyerUserType, buyerCode, buyerName,\n\t\tsellerCode, sellerName, sellerUserType, orderTime, finishTime, attach, extra,\n\t\torderTotal, payStatus, notifyStatus, remark, settleStatus, settleTime, orderSettlementTotal,\n\t\tcompanyID ,companyName, merchantStoreNo, merchantStoreName, settleUserID, settleMerchantNo,\n\t\tmatchSettleType,settleSpMerchantNo, bearerType, shopOrderKey, deductTotal,\n\t\tgoodTags, refundTotal,settleUserName,storeMerchantNo, action, actionStamp, createStamp\n\t \n\t\tfrom db_pay_0016.tbl_pay_order_payMaster_0001\n\t\twhere payOrderKey = ?",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e701814f4-1192",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 8148,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 1,
            "transactionTime": 0,
            "startTime": 1552986168566,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "select\n\t\t \n\t\toutTradeType,orderKey,payOrderKey,payWayType,payAmount,payCode,payExtra,transStatus, settleStatus,payMethodTransKey,payTransKey,\n\t\tsettleAmount, channelAccount, channelType, payTransNo,payRemark,payTransExtra,commissionRate, commission,settleTransID, failCode, failCause, action, actionStamp, createStamp \n\t\tfrom db_pay_0016.tbl_pay_order_payDetail_0001\n\t\twhere payOrderKey = ? and action in (0,1)",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e701814f6-1193",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 8150,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 2,
            "transactionTime": 0,
            "startTime": 1552986168568,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "select\n\t\t \n\tpayOrderKey, outTradeType, orderKey, payTransKey,  buyerUserType, buyerCode, buyerName,\n\t\tsellerCode, sellerName, sellerUserType, orderTime, finishTime, attach, extra,\n\t\torderTotal, payStatus, notifyStatus, remark, settleStatus, settleTime, orderSettlementTotal,\n\t\tcompanyID ,companyName, merchantStoreNo, merchantStoreName, settleUserID, settleMerchantNo,\n\t\tmatchSettleType,settleSpMerchantNo, bearerType, shopOrderKey, deductTotal,\n\t\tgoodTags, refundTotal,settleUserName,storeMerchantNo, action, actionStamp, createStamp\n\t \n\t\tfrom db_pay_0016.tbl_pay_order_payMaster_0001\n\t\twhere payOrderKey = ?",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e701814f8-1194",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 8152,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }, {
            "tierName": "pay_service_21",
            "nodeName": "pay-service-21-597586cb49-4fx2t-7",
            "health": "NORMAL",
            "elapsedTime": 1,
            "transactionTime": 0,
            "startTime": 1552986168571,
            "source": "order_service_64",
            "extra": {
              "dataBase": "DATABASE",
              "remote": null
            },
            "children": [],
            "transactionName": "select\n\t\t \n\t\toutTradeType,orderKey,payOrderKey,payWayType,payAmount,payCode,payExtra,transStatus, settleStatus,payMethodTransKey,payTransKey,\n\t\tsettleAmount, channelAccount, channelType, payTransNo,payRemark,payTransExtra,commissionRate, commission,settleTransID, failCode, failCause, action, actionStamp, createStamp \n\t\tfrom db_pay_0016.tbl_pay_order_payDetail_0001\n\t\twhere payOrderKey = ? and action in (0,1)",
            "layer": "SQL",
            "type": "CLIENT",
            "spanId": "vgw1Fd6R-1202-e701814fb-1195",
            "appId": "834864538905964544",
            "tierId": "834869023628259328",
            "instanceId": "873443901451960320",
            "appName": "支付",
            "error": false,
            "timeOffset": 8155,
            "component": "mysql",
            "asyncCalled": false,
            "httpMethod": "",
            "combinedCount": 0
          }],
          "transactionName": "PayService/orderPay",
          "layer": "RPC",
          "type": "SERVER",
          "spanId": "vgw1Fd6R-1202-e70180ca5-1178",
          "appId": "834864538905964544",
          "tierId": "834869023628259328",
          "instanceId": "873443901451960320",
          "appName": "支付",
          "error": false,
          "timeOffset": 6021,
          "component": "grpcService",
          "asyncCalled": true,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 0,
          "transactionTime": 0,
          "startTime": 1552986168574,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select @@session.tx_read_only",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e701814fe-8faa",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8158,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986168574,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "update db_order_new_048.tbl_payment_detail_048\n        set paymentID = ?,\n         \n            thirdPartyAccount = ?,\n         \n        \n        \n        \n         \n            thirdPartyCode = ?,\n         \n        actionTime = now()\n        where orderKey = ?\n        and paymentSubjectCode = ?\n        and paymentVersion is null",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e701814fe-8fab",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8158,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986168576,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select thirdPartyAccount from db_order_new_048.tbl_payment_detail_048 where orderKey = ? and paymentID = ? and balanceID in (101, 102, 111)",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70181500-8fac",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8160,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986168578,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select @@session.tx_read_only",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70181502-8fad",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8162,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986168579,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "update db_order_new_048.tbl_payment_detail_048\n        set paymentID = ?,\n         \n            thirdPartyAccount = ?,\n         \n        \n        \n        \n         \n            thirdPartyCode = ?,\n         \n         \n            paymentExtra = ?,\n         \n        paidAmount = dueAmount,\n        paymentStatus = 20,\n        payEndTime = now(),\n        actionTime = now()\n        where orderKey = ?\n        \n        and paymentSubjectCode = ?\n        and paymentVersion is null",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70181503-8fae",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8163,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 0,
          "transactionTime": 0,
          "startTime": 1552986168582,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select @@session.tx_read_only",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70181506-8fb0",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8166,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 2
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 0,
          "transactionTime": 0,
          "startTime": 1552986168584,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select @@session.tx_read_only",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70181508-8fb1",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8168,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986168584,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "update db_order_new_048.tbl_order_master_048\n    set\n     \n        payTransNo= ?,\n     \n     \n        thirdPartyTransNo= ?,\n     \n     \n        thirdPartyCode= ?,\n     \n     \n        thirdPartyAccount= ?,\n     \n     \n        payWayType= ?,\n     \n     \n            thirdPartyAmount = dueTotalAmount\n         \n    where orderKey = ?",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70181508-8fb2",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8168,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986168586,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select @@session.tx_read_only",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7018150a-8fb3",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8170,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986168587,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "update db_order_new_048.tbl_order_master_048 set\n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n\n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n            shopOpenID = ? ,\n         \n         \n         \n         \n         \n         \n         \n         \n         \n         \n            customerID =  ?,\n         \n        actionTime = now() where orderKey = ?",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7018150b-8fb4",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8171,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986168588,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select\n         \n    ID, orderKey, paymentID, balanceID, paymentSubjectCode, paymentSubjectName, payorAccount, payeeAccount,\n    cardTypeID, dueAmount, paidAmount, paymentStatus, payBeginTime, payEndTime, scanType,\n    transType, refunded, paymentRemark, settleID, thirdPartyAccount, thirdPartyCode,\n    settleBeginTime, settleEndTime, paymentVersion, operator, actionTime, createTime,paymentExtra\n   \n        from db_order_new_048.tbl_payment_detail_048\n        where orderKey = ?\n        and paymentVersion is null",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7018150c-8fb5",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8172,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986168589,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select @@session.tx_read_only",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7018150d-8fb6",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8173,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986168590,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "update db_order_new_048.tbl_order_master_048\n        set orderStatus = ?,\n        paidTotalAmount = ?,\n        isAlreadyPaid = 1,\n        payEndTime = now(),\n         \n            takeoutConfirmTime = now(),\n         \n        action = 1\n        where orderKey = ?\n        and isAlreadyPaid != 1",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7018150e-8fb7",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8174,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986168591,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select @@session.tx_read_only",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7018150f-8fb8",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8175,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 0,
          "transactionTime": 0,
          "startTime": 1552986168592,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "update db_order_new_048.tbl_order_master_048 set orderState = 60 where orderKey = ?",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70181510-8fb9",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8176,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986168594,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select @@session.tx_read_only",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70181512-8fbb",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8178,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986168595,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "SELECT\n         \n    orderID, orderKey, parentOrderKey, shopOrderKey, shopOrderFlowNo, channelKey, channelOrderKey,\n    quoteID, orderType, orderSubType, orderStatus, orderState, msgID, orderTime, acceptTime,\n    takeoutConfirmTime, takeoutConfirmRemark, groupID, groupName, shopID, shopName, shopAddress,\n    shopTel, brandID, cardTypeID, cardID, cardNo, userID, userName, userSex, userMobile,\n    openID, offlinePaidAmount, freeAmount, foodAmount, foodCount, promotionAmount, discountRange, discountRate, serviceAmount,\n    takeoutPackagingAmount, isShopDelivery, originTotalAmount, originTotalPoint, dueTotalAmount,\n    dueTotalPoint, paidTotalAmount, paidTotalPoint, refundTotalAmount, settleRefundAmount,\n    refundTotalPoint, discountTotalAmount, isAlreadyPaid, thirdPartyAccount, thirdPartyCode,\n    thirdPartyAmount, thirdPartyFreeAmount, moneyBalance, pointBalance, payBeginTime,\n    payEndTime, promotionType, appliedPromoteIDs, orderRemark, invoiceTitle, taxNo, isNeedInvoice, cancelRemark,\n    cancelTime, clientType, deviceID, clientIP, cityID, cityName, longitude, latitude,\n    orderSettlementTotal, settleID, isSettle, settleBeginTime, settleEndTime, timeID,\n    timeName, tableID, tableName, dinners, takeoutAddress, takeoutDescribe, operator,\n    action, actionTime, createTime,takeoutTime,shopRealAmount,deliveryAmount , paymentCheckCode,thirdPartyTransNo,payTransNo,thirdPartyTransNo,\n    shopImgUrl,promotionInfo,appID ,reviewed,takeoutRemark,shopOpenID,checkoutType,msgState,msgAckTime,isApplyRefund,stdChannelKey,unionID,\n    userImage,customerID,payWayType\n   \n        from db_order_new_048.tbl_order_master_048\n        where orderKey = ?",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70181513-8fbc",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8179,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 2,
          "transactionTime": 0,
          "startTime": 1552986168597,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select\n         \n    ID, orderKey, foodID, foodName, hllFoodName, hllUnit, foodCode, foodUnit, foodUnitID, foodCategoryID, foodCategoryName,\n    customFoodCategoryName, customFoodCategoryID, isSetFood, SFMUnitCode, isSFDetail,\n    foodSortIndex, isBatching, isGift, foodCount, remark, originPrice, originPoint, takeoutPackagingFee,\n    isDiscount, duePrice, duePoint, promoteTags, vipPrice, vipPoint, batchNo, isAutoAdd,\n    itemDetail, action, actionTime, createTime,taste,cookMethod,sequenceID,isNeedConfirmFoodNumber\n   \n        from db_order_new_048.tbl_order_item_048\n        where orderKey = ?  and ACTION  !=2\n        ORDER BY  SFMUnitCode desc ,isSetFood desc  , isSFDetail , isBatching ,ID  ;",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70181515-8fbd",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8181,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986168600,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select\n         \n    ID, orderKey, paymentID, balanceID, paymentSubjectCode, paymentSubjectName, payorAccount, payeeAccount,\n    cardTypeID, dueAmount, paidAmount, paymentStatus, payBeginTime, payEndTime, scanType,\n    transType, refunded, paymentRemark, settleID, thirdPartyAccount, thirdPartyCode,\n    settleBeginTime, settleEndTime, paymentVersion, operator, actionTime, createTime,paymentExtra\n   \n        from db_order_new_048.tbl_payment_detail_048\n        where orderKey = ?\n        and paymentVersion is null",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70181518-8fbe",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8184,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986168601,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "SELECT\n         \n    orderID, orderKey, parentOrderKey, shopOrderKey, shopOrderFlowNo, channelKey, channelOrderKey,\n    quoteID, orderType, orderSubType, orderStatus, orderState, msgID, orderTime, acceptTime,\n    takeoutConfirmTime, takeoutConfirmRemark, groupID, groupName, shopID, shopName, shopAddress,\n    shopTel, brandID, cardTypeID, cardID, cardNo, userID, userName, userSex, userMobile,\n    openID, offlinePaidAmount, freeAmount, foodAmount, foodCount, promotionAmount, discountRange, discountRate, serviceAmount,\n    takeoutPackagingAmount, isShopDelivery, originTotalAmount, originTotalPoint, dueTotalAmount,\n    dueTotalPoint, paidTotalAmount, paidTotalPoint, refundTotalAmount, settleRefundAmount,\n    refundTotalPoint, discountTotalAmount, isAlreadyPaid, thirdPartyAccount, thirdPartyCode,\n    thirdPartyAmount, thirdPartyFreeAmount, moneyBalance, pointBalance, payBeginTime,\n    payEndTime, promotionType, appliedPromoteIDs, orderRemark, invoiceTitle, taxNo, isNeedInvoice, cancelRemark,\n    cancelTime, clientType, deviceID, clientIP, cityID, cityName, longitude, latitude,\n    orderSettlementTotal, settleID, isSettle, settleBeginTime, settleEndTime, timeID,\n    timeName, tableID, tableName, dinners, takeoutAddress, takeoutDescribe, operator,\n    action, actionTime, createTime,takeoutTime,shopRealAmount,deliveryAmount , paymentCheckCode,thirdPartyTransNo,payTransNo,thirdPartyTransNo,\n    shopImgUrl,promotionInfo,appID ,reviewed,takeoutRemark,shopOpenID,checkoutType,msgState,msgAckTime,isApplyRefund,stdChannelKey,unionID,\n    userImage,customerID,payWayType\n   \n        from db_order_new_048.tbl_order_master_048\n        where orderKey = ?",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70181519-8fbf",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8185,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986168603,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select\n         \n    ID, orderKey, foodID, foodName, hllFoodName, hllUnit, foodCode, foodUnit, foodUnitID, foodCategoryID, foodCategoryName,\n    customFoodCategoryName, customFoodCategoryID, isSetFood, SFMUnitCode, isSFDetail,\n    foodSortIndex, isBatching, isGift, foodCount, remark, originPrice, originPoint, takeoutPackagingFee,\n    isDiscount, duePrice, duePoint, promoteTags, vipPrice, vipPoint, batchNo, isAutoAdd,\n    itemDetail, action, actionTime, createTime,taste,cookMethod,sequenceID,isNeedConfirmFoodNumber\n   \n        from db_order_new_048.tbl_order_item_048\n        where orderKey = ?  and ACTION  !=2\n        ORDER BY  SFMUnitCode desc ,isSetFood desc  , isSFDetail , isBatching ,ID  ;",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7018151b-8fc0",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8187,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986168605,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select\n         \n    ID, orderKey, paymentID, balanceID, paymentSubjectCode, paymentSubjectName, payorAccount, payeeAccount,\n    cardTypeID, dueAmount, paidAmount, paymentStatus, payBeginTime, payEndTime, scanType,\n    transType, refunded, paymentRemark, settleID, thirdPartyAccount, thirdPartyCode,\n    settleBeginTime, settleEndTime, paymentVersion, operator, actionTime, createTime,paymentExtra\n   \n        from db_order_new_048.tbl_payment_detail_048\n        where orderKey = ?\n        and paymentVersion is null",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7018151d-8fc1",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8189,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 1,
          "transactionTime": 0,
          "startTime": 1552986168606,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": "DATABASE",
            "remote": null
          },
          "children": [],
          "transactionName": "select * from   db_order_new_048.tbl_payment_detail_048  where orderKey = ? and  paymentStatus =20",
          "layer": "SQL",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e7018151e-8fc2",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8190,
          "component": "mysql",
          "asyncCalled": false,
          "httpMethod": "",
          "combinedCount": 0
        }, {
          "tierName": "order_service_64",
          "nodeName": "order-service-64-545d46bf5b-pcp56-7",
          "health": "NORMAL",
          "elapsedTime": 4,
          "transactionTime": 0,
          "startTime": 1552986168612,
          "source": "mendian_gateway",
          "extra": {
            "dataBase": null,
            "remote": "REMOTE"
          },
          "children": [],
          "transactionName": "PosMsgService/addMsgQueue",
          "layer": "RPC",
          "type": "CLIENT",
          "spanId": "wcLbo9rt-18e3f-e70181524-8fc4",
          "appId": "834864455997648896",
          "tierId": "834868842870534144",
          "instanceId": "875097006284513280",
          "appName": "三方外卖及订单",
          "error": false,
          "timeOffset": 8196,
          "component": "grpcClient",
          "asyncCalled": true,
          "httpMethod": "",
          "combinedCount": 0
        }],
        "transactionName": "proto.msg.SaasOrderService/couponSubmitOrder",
        "layer": "RPC",
        "type": "SERVER",
        "spanId": "wcLbo9rt-18e3f-e7017f512-8f90",
        "appId": "834864455997648896",
        "tierId": "834868842870534144",
        "instanceId": "875097006284513280",
        "appName": "三方外卖及订单",
        "error": false,
        "timeOffset": -14,
        "component": "grpcService",
        "asyncCalled": true,
        "httpMethod": "",
        "combinedCount": 0
      }],
      "transactionName": "proto.msg.SaasOrderService/couponSubmitOrder",
      "layer": "RPC",
      "type": "SERVER",
      "spanId": "YFTak0zj-187-e7017f520-1192c7",
      "appId": "834864414570016768",
      "tierId": "834868547268079616",
      "instanceId": "835088091386003456",
      "appName": "SaaS及云店服务",
      "error": false,
      "timeOffset": 0,
      "component": "grpcService",
      "asyncCalled": false,
      "httpMethod": "",
      "combinedCount": 0
    }
  }
}