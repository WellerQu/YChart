import ychartTopo from '../src/ychart-topo';
import ychartCallstack from '../src/ychart-callstack';
import { TopoData, CallstackData, Line, Node, } from '../typings/defines';

const eventOption = {
  'nodeClick': (event: Event, data: ( Node|Line )): void => { console.log(event, data) },
  // 'lineClick': (event: MouseEvent, data: Line): void => { console.log(event, data); },
  // 'nodeMouseOver': (event: MouseEvent, data: Node): void => { console.log(event, data); },
  // 'nodeMouseOut': (event: MouseEvent, data: Node): void => { console.log(event, data); },
  // 'lineMouseOver': (event: MouseEvent, data: Line): void => { console.log(event, data); },
  // 'lineMouseOut': (event: MouseEvent, data: Node): void => { console.log(event, data); },
};

const updateTopo = ychartTopo(document.querySelector('#topo'), eventOption, (userState?: any) => {
  console.log('updated successfully', userState); // eslint-disable-line
}, true);

const topoData: TopoData = {'nodes':[{'id':'825214075447136256','name':'门店_PRE','times':0,'type':'SERVER','smallType':'RPC','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'823012315147415552','name':'跳房子童虎','times':0,'type':'SERVER','smallType':'HTTP','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'824483280477949952','name':'dohko_gatewat','times':0,'type':'SERVER','smallType':'RPC','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'825214148666396672','name':'会员营销_PRE','times':0,'type':'SERVER','smallType':'RPC','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'825213911331704832','name':'POS2C_PRE','times':0,'type':'SERVER','smallType':'RPC','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'825214245445767168','name':'报表_PRE','times':0,'type':'SERVER','smallType':'RPC','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'825214192292057088','name':'订单_PRE','times':0,'type':'SERVER','smallType':'HTTP','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'825214017242779648','name':'权益账户_PRE','times':0,'type':'SERVER','smallType':'RPC','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/_db_cloudshop?useUnicode=true&characterEncoding=utf8&allowMultiQueries=true&rewriteBatchedStatements=true&statementInterceptors=brave.mysql.TracingStatementInterceptor','name':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/_db_cloudshop?useUnicode=true&characterEncoding=utf8&allowMultiQueries=true&rewriteBatchedStatements=true&statementInterceptors=brave.mysql.TracingStatementInterceptor','times':0,'type':'DATABASE','smallType':'mysql','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/db_mis?useUnicode=true&statementInterceptors=brave.mysql.TracingStatementInterceptor','name':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/db_mis?useUnicode=true&statementInterceptors=brave.mysql.TracingStatementInterceptor','times':0,'type':'DATABASE','smallType':'mysql','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/db_shop?autoReconnect=true&autoReconnectForPools=true&failOverReadOnly=false&allowMultiQueries=true&statementInterceptors=brave.mysql.TracingStatementInterceptor','name':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/db_shop?autoReconnect=true&autoReconnectForPools=true&failOverReadOnly=false&allowMultiQueries=true&statementInterceptors=brave.mysql.TracingStatementInterceptor','times':0,'type':'DATABASE','smallType':'mysql','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/db_shop_business?autoReconnect=true&autoReconnectForPools=true&failOverReadOnly=false&allowMultiQueries=true&statementInterceptors=brave.mysql.TracingStatementInterceptor','name':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/db_shop_business?autoReconnect=true&autoReconnectForPools=true&failOverReadOnly=false&allowMultiQueries=true&statementInterceptors=brave.mysql.TracingStatementInterceptor','times':0,'type':'DATABASE','smallType':'mysql','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/db_pos?useUnicode=true&characterEncoding=utf8&statementInterceptors=brave.mysql.TracingStatementInterceptor','name':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/db_pos?useUnicode=true&characterEncoding=utf8&statementInterceptors=brave.mysql.TracingStatementInterceptor','times':0,'type':'DATABASE','smallType':'mysql','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/db_shop?useUnicode=true&characterEncoding=utf8&statementInterceptors=brave.mysql.TracingStatementInterceptor','name':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/db_shop?useUnicode=true&characterEncoding=utf8&statementInterceptors=brave.mysql.TracingStatementInterceptor','times':0,'type':'DATABASE','smallType':'mysql','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/_db_cloudshop?useUnicode=true&characterEncoding=utf8&allowMultiQueries=true&rewriteBatchedStatements=true','name':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/_db_cloudshop?useUnicode=true&characterEncoding=utf8&allowMultiQueries=true&rewriteBatchedStatements=true','times':0,'type':'DATABASE','smallType':'mysql','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/db_tax_invoice?autoReconnect=true&autoReconnectForPools=true&failOverReadOnly=false&allowMultiQueries=true','name':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/db_tax_invoice?autoReconnect=true&autoReconnectForPools=true&failOverReadOnly=false&allowMultiQueries=true','times':0,'type':'DATABASE','smallType':'mysql','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'jdbc:mysql://172.16.0.50:3307/db_order_new?statementInterceptors=brave.mysql.TracingStatementInterceptor','name':'jdbc:mysql://172.16.0.50:3307/db_order_new?statementInterceptors=brave.mysql.TracingStatementInterceptor','times':0,'type':'DATABASE','smallType':'mysql','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'jdbc:mysql://172.16.0.50:3306/db_order_new?statementInterceptors=brave.mysql.TracingStatementInterceptor','name':'jdbc:mysql://172.16.0.50:3306/db_order_new?statementInterceptors=brave.mysql.TracingStatementInterceptor','times':0,'type':'DATABASE','smallType':'mysql','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'172.16.32.136:6379','name':'172.16.32.136:6379','times':0,'type':'DATABASE','smallType':'redis','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'172.16.32.103:6379','name':'172.16.32.103:6379','times':0,'type':'DATABASE','smallType':'redis','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'172.16.32.216:6379','name':'172.16.32.216:6379','times':0,'type':'DATABASE','smallType':'redis','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'codis.test.hualala.com:19000','name':'codis.test.hualala.com:19000','times':0,'type':'DATABASE','smallType':'redis','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'172.16.0.27:19000','name':'172.16.0.27:19000','times':0,'type':'DATABASE','smallType':'redis','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'172.16.32.96:19000','name':'172.16.32.96:19000','times':0,'type':'DATABASE','smallType':'redis','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'dohko.redis.hualala.com:6379','name':'dohko.redis.hualala.com:6379','times':0,'type':'DATABASE','smallType':'redis','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'dohko.shop.estimate.service.hualala.com/172.16.3.204:31587','name':'dohko.shop.estimate.service.hualala.com/172.16.3.204:31587','times':0,'type':'DATABASE','smallType':'grpcClient','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'dohko.service.passport.internal.tiaofangzi.com:31501','name':'dohko.service.passport.internal.tiaofangzi.com:31501','times':0,'type':'DATABASE','smallType':'grpcClient','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'dohko.org.service.hualala.com/172.16.3.204:31531','name':'dohko.org.service.hualala.com/172.16.3.204:31531','times':0,'type':'DATABASE','smallType':'grpcClient','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'dohko.forecast.bi.hualala.com/172.16.3.204:31589','name':'dohko.forecast.bi.hualala.com/172.16.3.204:31589','times':0,'type':'DATABASE','smallType':'grpcClient','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'dohko.drain.pipe.hualala.com/172.16.3.201:31798','name':'dohko.drain.pipe.hualala.com/172.16.3.201:31798','times':0,'type':'DATABASE','smallType':'grpcClient','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'dohko.module.auth.mis.tiaofangzi.com/172.16.3.201:31617','name':'dohko.module.auth.mis.tiaofangzi.com/172.16.3.201:31617','times':0,'type':'DATABASE','smallType':'grpcClient','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'dohko.setting.pay.channel.hualala.com:31714','name':'dohko.setting.pay.channel.hualala.com:31714','times':0,'type':'DATABASE','smallType':'grpcClient','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'dohko.message.channel.hualala.com/172.16.3.201:31781','name':'dohko.message.channel.hualala.com/172.16.3.201:31781','times':0,'type':'DATABASE','smallType':'grpcClient','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'dohko.sales.mis.tiaofangzi.com:31511','name':'dohko.sales.mis.tiaofangzi.com:31511','times':0,'type':'DATABASE','smallType':'grpcClient','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'equity.core.service.hualala.com/172.16.3.204:31731','name':'equity.core.service.hualala.com/172.16.3.204:31731','times':0,'type':'DATABASE','smallType':'grpcClient','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'api.netease.im:443','name':'api.netease.im:443','times':0,'type':'DATABASE','smallType':'apacheHttpClient','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'api.weixin.qq.com:443','name':'api.weixin.qq.com:443','times':0,'type':'DATABASE','smallType':'apacheHttpClient','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'jieqianhua-host4:8081','name':'jieqianhua-host4:8081','times':0,'type':'DATABASE','smallType':'apacheHttpClient','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'mu.api.book.hualala.com:8081','name':'mu.api.book.hualala.com:8081','times':0,'type':'DATABASE','smallType':'apacheHttpClient','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'api-open-cater.meituan.com:443','name':'api-open-cater.meituan.com:443','times':0,'type':'DATABASE','smallType':'apacheHttpClient','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},{'id':'mu.api.book.hualala.com:8080','name':'mu.api.book.hualala.com:8080','times':0,'type':'DATABASE','smallType':'apacheHttpClient','instances':0,'activeInstances':0,'elapsedTime':0,'rpm':0,'epm':0,'health':'HEALTHY','totalCount':0,'errorTotalCount':0,'crossApp':false,},],'links':[{'source':'824483280477949952','target':'825214075447136256','elapsedTime':0,'rpm':0,},{'source':'825214148666396672','target':'825213911331704832','elapsedTime':0,'rpm':0,},{'source':'825214075447136256','target':'825214017242779648','elapsedTime':0,'rpm':0,},{'source':'825214192292057088','target':'825214075447136256','elapsedTime':0,'rpm':0,},{'source':'823012315147415552','target':'825214075447136256','elapsedTime':0,'rpm':0,},{'source':'825214148666396672','target':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/_db_cloudshop?useUnicode=true&characterEncoding=utf8&allowMultiQueries=true&rewriteBatchedStatements=true&statementInterceptors=brave.mysql.TracingStatementInterceptor','elapsedTime':0,'rpm':0,},{'source':'823012315147415552','target':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/db_mis?useUnicode=true&statementInterceptors=brave.mysql.TracingStatementInterceptor','elapsedTime':0,'rpm':0,},{'source':'825214075447136256','target':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/db_shop?autoReconnect=true&autoReconnectForPools=true&failOverReadOnly=false&allowMultiQueries=true&statementInterceptors=brave.mysql.TracingStatementInterceptor','elapsedTime':0,'rpm':0,},{'source':'825214075447136256','target':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/db_shop_business?autoReconnect=true&autoReconnectForPools=true&failOverReadOnly=false&allowMultiQueries=true&statementInterceptors=brave.mysql.TracingStatementInterceptor','elapsedTime':0,'rpm':0,},{'source':'825214075447136256','target':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/db_pos?useUnicode=true&characterEncoding=utf8&statementInterceptors=brave.mysql.TracingStatementInterceptor','elapsedTime':0,'rpm':0,},{'source':'825214075447136256','target':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/db_shop?useUnicode=true&characterEncoding=utf8&statementInterceptors=brave.mysql.TracingStatementInterceptor','elapsedTime':0,'rpm':0,},{'source':'825214148666396672','target':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/_db_cloudshop?useUnicode=true&characterEncoding=utf8&allowMultiQueries=true&rewriteBatchedStatements=true','elapsedTime':0,'rpm':0,},{'source':'825214017242779648','target':'jdbc:mysql://dohko.mysql.001.master.hualala.com:3306/db_tax_invoice?autoReconnect=true&autoReconnectForPools=true&failOverReadOnly=false&allowMultiQueries=true','elapsedTime':0,'rpm':0,},{'source':'825214192292057088','target':'jdbc:mysql://172.16.0.50:3307/db_order_new?statementInterceptors=brave.mysql.TracingStatementInterceptor','elapsedTime':0,'rpm':0,},{'source':'825214192292057088','target':'jdbc:mysql://172.16.0.50:3306/db_order_new?statementInterceptors=brave.mysql.TracingStatementInterceptor','elapsedTime':0,'rpm':0,},{'source':'825214075447136256','target':'172.16.32.136:6379','elapsedTime':0,'rpm':0,},{'source':'823012315147415552','target':'172.16.32.103:6379','elapsedTime':0,'rpm':0,},{'source':'825214148666396672','target':'172.16.32.216:6379','elapsedTime':0,'rpm':0,},{'source':'825213911331704832','target':'codis.test.hualala.com:19000','elapsedTime':0,'rpm':0,},{'source':'825214075447136256','target':'172.16.0.27:19000','elapsedTime':0,'rpm':0,},{'source':'825214245445767168','target':'172.16.32.96:19000','elapsedTime':0,'rpm':0,},{'source':'825214075447136256','target':'dohko.redis.hualala.com:6379','elapsedTime':0,'rpm':0,},{'source':'825214075447136256','target':'dohko.shop.estimate.service.hualala.com/172.16.3.204:31587','elapsedTime':0,'rpm':0,},{'source':'823012315147415552','target':'dohko.service.passport.internal.tiaofangzi.com:31501','elapsedTime':0,'rpm':0,},{'source':'825214075447136256','target':'dohko.org.service.hualala.com/172.16.3.204:31531','elapsedTime':0,'rpm':0,},{'source':'825214075447136256','target':'dohko.forecast.bi.hualala.com/172.16.3.204:31589','elapsedTime':0,'rpm':0,},{'source':'825214075447136256','target':'dohko.drain.pipe.hualala.com/172.16.3.201:31798','elapsedTime':0,'rpm':0,},{'source':'825214075447136256','target':'dohko.module.auth.mis.tiaofangzi.com/172.16.3.201:31617','elapsedTime':0,'rpm':0,},{'source':'823012315147415552','target':'dohko.setting.pay.channel.hualala.com:31714','elapsedTime':0,'rpm':0,},{'source':'825214017242779648','target':'dohko.message.channel.hualala.com/172.16.3.201:31781','elapsedTime':0,'rpm':0,},{'source':'823012315147415552','target':'dohko.sales.mis.tiaofangzi.com:31511','elapsedTime':0,'rpm':0,},{'source':'825214017242779648','target':'equity.core.service.hualala.com/172.16.3.204:31731','elapsedTime':0,'rpm':0,},{'source':'823012315147415552','target':'api.netease.im:443','elapsedTime':0,'rpm':0,},{'source':'825213911331704832','target':'api.weixin.qq.com:443','elapsedTime':0,'rpm':0,},{'source':'824483280477949952','target':'jieqianhua-host4:8081','elapsedTime':0,'rpm':0,},{'source':'825214148666396672','target':'mu.api.book.hualala.com:8081','elapsedTime':0,'rpm':0,},{'source':'825214192292057088','target':'api-open-cater.meituan.com:443','elapsedTime':0,'rpm':0,},{'source':'825214148666396672','target':'mu.api.book.hualala.com:8080','elapsedTime':0,'rpm':0,},],};

updateTopo(topoData);

const btnUpdate = document.querySelector('button#updateTopoData');
btnUpdate.addEventListener('click', () => {
  topoData.nodes[0].instances = Math.random() * 10 >> 0;
  updateTopo(topoData);
});

const callstackData: CallstackData = {
  stackName: 'root stack service',
  duration: 2260, // ms
  offsetTime: 0,
  children: [
    {
      stackName: 'serv 0',
      duration: 300,
      offsetTime: 100,
      children: [
        {
          stackName: 'serv 01',
          duration: 100,
          offsetTime: 100,
          children: [
            {
              stackName: 'serv 001',
              duration: 10,
              offsetTime: 100,
            },
          ],
        },
        {
          stackName: 'serv 02',
          duration: 3,
          offsetTime: 100,
        },
      ],
    },
    {
      stackName: 'serv 1',
      duration: 700,
      offsetTime: 100,
    },
  ],
};

const updateCallstack = ychartCallstack(document.querySelector('#callstack'));

updateCallstack(callstackData);

const btnUpdateCallstack = document.querySelector('button#updateCallstackData');
btnUpdateCallstack.addEventListener('click', () => {
  callstackData.duration = 900;
  callstackData.children[0].duration = 500;

  updateCallstack(callstackData);
});